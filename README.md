# 202405-CAHOOTS-weather-analysis

**README**

This repository contains scripts for data cleaning, analysis, and classification of CAHOOTS (Crisis Assistance Helping Out On The Streets) call data and weather data for the city of Eugene, Oregon, spanning the years 2021 to 2023.

### Contents:

1. **weather.ipynb**: This script fetches weather data from the Visual Crossing weather API for a specified location and time period. It retrieves weather information in CSV format and saves it to a file named 'upcoming_weather.csv' in the 'raw_data' directory.

2. **data_cleaning.ipynb**: This script cleans and preprocesses the raw data obtained from CAHOOTS and weather databases. It involves tasks such as merging datasets, handling missing values, converting data types, creating dummy variables, and preparing the data for analysis. The cleaned data is saved as CSV files in the 'data' directory.

3. **analysis.ipynb**: This script conducts exploratory data analysis on the cleaned datasets. It includes visualizations and statistical analyses to understand patterns and relationships in the data. Significant correlations between various factors are calculated, and the results are saved as CSV files for further investigation. 

4. **preprocessing.ipynb**: This script is used to preprocess the model data for classification. It prepares the data in the appropriate format and structure required by the classification models, ensuring that the data is suitable for training and evaluation.

5. **classifying.ipynb**: This script implements a Random Forest classifier to predict high-risk days based on call volume. It uses features such as temperature, humidity, pm25, solarenergy, day of the week, day of the year over 30 more to classify days as high-risk or not. The predictions are made on upcoming data and saved as a CSV file for further analysis. It also contains an OLS regression model to generate useful info on the features used in the Random Forest classifier.

6. **more_plots.ipynb**: This script contains additional visualization code to create more plots. These plots provide further insights into the data and the machine learning results, helping to better understand trends, patterns, and relationships that might not have been captured in the initial analysis.

### Usage:

To replicate the analysis:

1. Ensure that Python and the required libraries (pandas, numpy, matplotlib, calendar, scipy, statsmodels, scikit-learn) are installed on your system.

2. Clone this repository to your local machine:

   ```
   git clone <repository_url>
   ```

3. Navigate to the cloned directory:

   ```
   cd <repository_name>
   ```

4. Run the scripts in the following order:

   - **weather.ipynb**: This script should be executed first to fetch weather data and save it to 'upcoming_weather.csv'.

   - **data_cleaning.ipynb**: This script cleans and preprocesses the raw data obtained from CAHOOTS and weather data files.

   - **analysis.ipynb**: This script conducts exploratory data analysis on the cleaned datasets.
  
   - **preprocessing.ipynb**: This script is used to preprocess the model data for classification.

   - **classifying.ipynb**: This script implements a Random Forest classifier to predict high-risk days based on call volume.
  
   - **more_plots.ipynb**: This script contains additional visualization code to create more plots.

### Data:

- **Raw Data**: The raw CAHOOTS call data and weather data are stored in XLSX and CSV files, respectively, in the 'raw_data' directory.

- **Cleaned Data**: The cleaned and preprocessed data are saved as CSV files in the 'data' directory.

- **Upcoming Data**: The upcoming prediction data, including weather forecasts and other relevant features, is stored in the 'data' directory.

- **Predictions**: The predictions generated by the Random Forest classifier on the upcoming data are saved as a CSV file named 'upcoming_data_with_predictions.csv' in the 'data' directory.

### Additional Notes:

- Ensure that the file paths specified in the scripts are correct and that the required input files are accessible.

- Adjust any parameters or configurations in the scripts as needed for your analysis or environment.
